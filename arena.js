(this["webpackJsonpprint.are.na"]=this["webpackJsonpprint.are.na"]||[]).push([[0],{191:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(53),o=t.n(i),c=t(21),l=t(3),u=t(2),s=t(1);function f(){var n=Object(u.a)(["\n  text-decoration: none;\n  color: inherit;\n"]);return f=function(){return n},n}function m(){var n=Object(u.a)(["\n  display: none;\n"]);return m=function(){return n},n}function h(){var n=Object(u.a)(["\n  html {\n    font-family: 'Arial';\n    font-size: 13pt;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n  }\n\n  ol {\n    margin-top: 0;\n    margin-bottom: 0;\n    list-style-type: upper-roman;\n    padding-left: 0.35in;\n  }\n\n  blockquote {\n    margin-left: 0;\n    margin-right: 0;\n  }\n\n  .\ud83d\udcd6-root .book-container {\n    opacity: 1;\n  }\n\n  .\ud83d\udcd6-running-header {\n    top: 0.3in;\n    min-height: 0.3in;\n    pointer-events: none;\n  }\n\n  .\ud83d\udcd6-right .\ud83d\udcd6-running-header {\n    text-align: right;\n    width: var(--bindery-page-width);\n  }\n\n  .\ud83d\udcd6-page.\ud83d\udcd6-left .page-header {\n    padding-left: 0.35in;\n  }\n\n  .page.\ud83d\udcd6-continuation.\ud83d\udcd6-continues {\n    margin-top: 0.335in;\n  }\n\n  .toc-page.page.\ud83d\udcd6-continuation.\ud83d\udcd6-continues {\n    margin-top: 0;\n  }\n\n  .\ud83d\udcd6-flow-box {\n    margin-bottom: var(--bindery-margin-outer);\n  }\n\n  .\ud83d\udcd6-footer {\n    display: none;\n  }\n\n  .\ud83d\udcd6-footer p {\n    margin-bottom: 8pt;\n  }\n\n  @page {\n    size: var(--bindery-page-width) var(--bindery-page-height);\n    margin: 0 !important;\n    width: var(--bindery-page-width) !important;\n    height: var(--bindery-page-height) !important;\n  }\n"]);return h=function(){return n},n}var d=Object(s.a)(h()),p=s.b.hr(m()),b=s.b.a(f()),g=t(22),v=t(10),E=t(11),w=t(57);function j(){var n=Object(u.a)(['\n  font-family: "Courier";\n  font-size: 18px;\n  color: white;\n  position: absolute;\n  top: 0;\n  right: 0.2em;\n  cursor: pointer;\n']);return j=function(){return n},n}function O(){var n=Object(u.a)(["\n  background: rgb(23, 172, 16);\n  padding: 1em;\n  color: white;\n  padding-top: 1em;\n  position: relative;\n\n  a {\n    color: white !important;\n  }\n\n  @media print {\n    display: none;\n  }\n"]);return O=function(){return n},n}var y=s.b.div(O()),x=s.b.a(j()),k=function(n){var e=n.children,t=n.id,i="".concat(t,"-seen"),o=Boolean(localStorage.getItem(i)),c=Object(r.useState)(o),l=Object(E.a)(c,2),u=l[0],s=l[1];return a.a.createElement(a.a.Fragment,null,!u&&a.a.createElement(y,null,e,a.a.createElement(x,{onClick:function(){localStorage.setItem(i,"true"),s(!0)}},"\u2715")))};function C(){var n=Object(u.a)(["\n  position: fixed;\n  right: 1em;\n  bottom: 1em;\n  display: flex;\n  z-index: 100;\n  max-width: 20em;\n"]);return C=function(){return n},n}var S=s.b.div(C());function z(){var n=Object(u.a)(["\n  font-size: 1em;\n"]);return z=function(){return n},n}function _(){var n=Object(u.a)(["\n  line-height: 1.35;\n  font-size: 12pt;\n  max-width: 40em;\n"]);return _=function(){return n},n}function N(){var n=Object(u.a)([""]);return N=function(){return n},n}function T(){var n=Object(u.a)(["\n  font-size: 18pt;\n  width: 10em;\n  border: 0 transparent;\n  border-bottom: 1px solid black;\n  line-height: 1.25;\n  height: 1em;\n  background: #f4f4f4;\n"]);return T=function(){return n},n}function L(){var n=Object(u.a)(["\n  margin-right: 1em;\n  height: 2em;\n  width: 2em;\n"]);return L=function(){return n},n}function P(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return P=function(){return n},n}function I(){var n=Object(u.a)(["\n  padding: 0.15em 1em 0.15em;\n"]);return I=function(){return n},n}function B(){var n=Object(u.a)(["\n  display: inline;\n  line-height: 1.35;\n"]);return B=function(){return n},n}function F(){var n=Object(u.a)(["\n  margin: 2em 0;\n"]);return F=function(){return n},n}function R(){var n=Object(u.a)(["\n  padding-top: 0;\n  line-height: 1;\n"]);return R=function(){return n},n}function M(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 18pt;\n  font-weight: normal;\n  line-height: 1.25;\n  box-sizing: border-box;\n"]);return M=function(){return n},n}function H(){var n=Object(u.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  flex-direction: column;\n  padding: 2em;\n  justify-content: space-between;\n  background: #f4f4f4;\n"]);return H=function(){return n},n}var A=s.b.div(H()),U=s.b.div(M()),G=Object(s.b)(U)(R()),V=s.b.div(F()),D=s.b.form(B()),W=s.b.div(I()),K=s.b.div(P()),X=s.b.input.attrs({type:"checkbox"})(L()),J=s.b.input(T()),q=s.b.div(N()),Y=Object(s.b)(U)(_()),$=s.b.button(z()),Q=function(n){Object.assign({},n);var e=Object(l.f)(),t=Object(r.useState)(""),i=Object(E.a)(t,2),o=i[0],c=i[1],u=Object(r.useState)({author:!0,source:!0,description:!0,toc:!0,isShare:!1,reverse:!0}),s=Object(E.a)(u,2),f=s[0],m=s[1],h=function(n,e){m((function(t){return Object(v.a)(Object(v.a)({},t),{},Object(g.a)({},n,e))}))};return a.a.createElement(A,null,a.a.createElement(q,null,a.a.createElement(G,null,"print.are.na"),a.a.createElement(D,{onSubmit:function(n){n.preventDefault();var t=o&&o.split("/");if(console.log("splitURL",t),t&&5!==t.length||t&&"are.na"!==t[2]&&"www.are.na"!==t[2])return e.push("/error/not_a_channel");t&&"share"===t[3]&&(console.log("is_share"),f.isShare=!0);var r=t&&t.pop();if(!r)return!1;console.log({slug:r,options:f}),e.push("/book/".concat(r,"?").concat(Object(w.stringify)(f)))}},a.a.createElement(V,null,a.a.createElement(U,null,"1. Enter the URL of a public Are.na channel:"," ",a.a.createElement(J,{onChange:function(n){return c(n.target.value)},type:"text",name:"url",placeholder:""}),a.a.createElement(U,null,"2. (Optional) Choose your settings:"),a.a.createElement(W,null,a.a.createElement(K,null,a.a.createElement(X,{checked:f.toc,onChange:function(n){return h("toc",!f.toc)}}),a.a.createElement("label",null,"include table of contents")),a.a.createElement(K,null,a.a.createElement(X,{checked:f.author,onChange:function(n){return h("author",!f.author)}}),a.a.createElement("label",null,"display author")),a.a.createElement(K,null,a.a.createElement(X,{checked:f.source,onChange:function(n){return h("source",!f.source)}}),a.a.createElement("label",null,"display source")),a.a.createElement(K,null,a.a.createElement(X,{checked:f.description,onChange:function(n){return h("description",!f.description)}}),a.a.createElement("label",null,"display description")),a.a.createElement(K,null,a.a.createElement(X,{checked:f.reverse,onChange:function(n){return h("reverse",!f.reverse)}}),a.a.createElement("label",null,"reverse chronological order (newest first)"))),a.a.createElement("br",null),a.a.createElement(U,null,a.a.createElement($,null,"Make book")))))),a.a.createElement(Y,null,"print.are.na was created by ",a.a.createElement("a",{href:"http://mindyseu.com"},"Mindy Seu"),", Charles Broskoski and"," ",a.a.createElement("a",{href:"https://studioijeoma.com"},"Ekene Ijeoma"),". print.are.na uses"," ",a.a.createElement("a",{href:"http://bindery.js"},"bindery.js"),", an open-source library for creating books using HTML and CSS, created by"," ",a.a.createElement("a",{href:"https://evanbrooks.info"},"Evan Brooks"),". The first version"," ",a.a.createElement("a",{href:"https://github.com/GeneralTrademark/print-arena"},"print.are.na")," ","was created by ",a.a.createElement("a",{href:"https://callil.com"},"Callil Capuozzo")," for the 2017 Cybernetics Conference."),a.a.createElement(S,null,a.a.createElement(k,{id:"demo"},a.a.createElement("strong",null,"Note:")," First time using print.are.na? Watch this"," ",a.a.createElement("a",{href:"/demo"},"short instructional video"),".")))},Z=t(58),nn=t(7),en=t.n(nn),tn=t(59),rn=t(37),an=t(60),on=t(61),cn=t.n(on),ln="https://api.are.na/v2",un=function n(){var e=this;Object(an.a)(this,n),this.get=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(n,e).then((function(n){return n.json()})).catch((function(n){return!1}))},this.getBlockCount=function(n){return e.get("".concat(ln,"/channels/").concat(n,"/thumb")).then((function(n){return n.length}))},this.getPaginatedChannelContents=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return e.get("".concat(ln,"/channels/").concat(n,"?page=").concat(t,"&per=").concat(r))},this.getChannelContents=function(n){return e.getFullChannel(n)},this.getInitialChannel=function(n,t){var r=t.isShare?{headers:{"X-SHARE-TOKEN":n}}:{},a=t&&t.reverse?"desc":"asc",i=t.isShare?"".concat(ln,"/channels/by_share_link/").concat(n):"".concat(ln,"/channels/").concat(n);return e.get("".concat(i,"?per=1&page=1&sort=position&direction=").concat(a,"&t=").concat(Date.now()),r)},this.getFullChannel=function(n,t){var r=[],a=t&&t.isShare,i=t&&t.reverse,o=a?{headers:{"X-SHARE-TOKEN":n}}:{},c=i?"desc":"asc";return e.getInitialChannel(n,{isShare:a,reverse:i}).then((function(n){if(n.code)throw new Error(n.message);var a=Math.ceil((n.length-1)/50);return t&&t.onGetTotal&&t.onGetTotal(a),t&&t.onEachPage&&t.onEachPage(1),Array(a).fill(void 0).map((function(n,e){return e+1})).reduce((function(a,i){return a.then((function(){return function(n,r){t&&t.onEachPage&&t.onEachPage(r);var a="".concat(ln,"/channels/").concat(n);return e.get("".concat(a,"?per=").concat(50,"&page=").concat(r,"&sort=position&direction=").concat(c,"&t=").concat(Date.now()),o)}(n.slug,i)})).then((function(n){var e=n.contents;r.push(e)}))}),Promise.resolve()).then((function(e){return Object.assign({},n,{contents:cn()(r)})}))}))}},sn=t(17),fn=t.n(sn),mn=t(38),hn=function(n){return new Promise((function(e,t){try{if(!n)return e({height:null,width:null});var r=new Image;r.onload=function(){return e({height:r.height,width:r.width})},r.onerror=function(){return e({height:null,width:null})},r.src=n}catch(a){return e({height:null,width:null})}}))},dn=function(){var n=Object(mn.a)(fn.a.mark((function n(e){var t,r,a,i,o,c;return fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.title&&(e.title.toLowerCase().indexOf(".jpg")>0||e.title.toLowerCase().indexOf(".jpeg")>0||e.title.toLowerCase().indexOf(".png")>0||e.title.toLowerCase().indexOf(".gif")>0||e.title.toLowerCase().indexOf(".pdf")>0),r=t?"":unescape(e.title),a=e.image&&e.image.large&&e.image.large.url,n.next=5,hn(a);case 5:return i=n.sent,o=i.width,c=i.height,n.abrupt("return",Object(v.a)(Object(v.a)({},e),{},{hasImage:!!a,imageUrl:a,dimensions:{width:o,height:c},title:r}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),pn=function(){var n=Object(mn.a)(fn.a.mark((function n(e,t){var r,a,i;return fn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.filter((function(n){return n&&"Channel"!==n.class})),a=Promise.all(r.map(dn)),n.next=4,a;case 4:return i=n.sent.sort((function(n){return t?n.position:-n.position})),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();function bn(){var n=Object(u.a)(["\n  color: rgb(23, 172, 16);\n"]);return bn=function(){return n},n}function gn(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 2em;\n  align-items: flex-start;\n  justify-content: flex-start;\n"]);return gn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  font-weight: normal;\n  margin: 0;\n  font-size: 16pt;\n"]);return vn=function(){return n},n}var En=s.b.h6(vn()),wn=s.b.div(gn()),jn=s.b.span(bn()),On=function(n){var e=n.slug,t=n.totalPages;return a.a.createElement(wn,{className:"page"},a.a.createElement(En,null,"Converting channel ",a.a.createElement(jn,null,e)," into a book..."),t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(En,null,"Creating ",50*t," pages...")))};function yn(){var n=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: ",";\n  font-size: 12pt;\n  pointer-events: none;\n"]);return yn=function(){return n},n}var xn=s.b.div(yn(),(function(n){return n.isRight?"flex-end":"flex-start"})),kn=function(n){var e=n.page,t=e.isEmpty?null:e.number;return!!e.heading.h6?null:a.a.createElement(xn,{isRight:e.isRight},t)};function Cn(){var n=Object(u.a)(["\n  display: none;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 13pt;\n  margin-bottom: 0.175in;\n  max-width: 2.65in;\n  min-height: 0.175in;\n  overflow: hidden;\n\n  // adjust to align with page numbers\n  margin-top: -0.1em;\n"]);return Sn=function(){return n},n}function zn(){var n=Object(u.a)([""]);return zn=function(){return n},n}var _n=s.b.span(zn()),Nn=s.b.div(Sn()),Tn=s.b.a(Cn()),Ln=function(n){var e=n.title,t=n.id;return a.a.createElement(Nn,{className:"page-header"},a.a.createElement(b,{href:"https://www.are.na/block/".concat(t),target:"_blank",rel:"noopener noreferrer"},a.a.createElement(_n,{dangerouslySetInnerHTML:{__html:e}})),a.a.createElement(Tn,{id:t.toString()}))};function Pn(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  height: 6.275in;\n  width: 100%;\n  font-weight: normal;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  padding-bottom: 0.375in;\n  pointer-events: none;\n\n  > * {\n    pointer-events: all;\n  }\n\n  > p:first-child {\n    margin: 0;\n  }\n"]);return Pn=function(){return n},n}function In(){var n=Object(u.a)(["\n  margin-top: 0;\n"]);return In=function(){return n},n}function Bn(){var n=Object(u.a)(["\n  font-size: 8pt;\n  line-height: 1.25;\n  margin: 0.5em 0;\n\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n\n  -ms-word-break: break-all;\n  word-break: break-all;\n  word-break: break-word;\n"]);return Bn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  font-size: 30pt;\n  line-height: 1.1;\n  > p:first-child {\n    margin: 0;\n  }\n"]);return Fn=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 13pt;\n  line-height: 1.25;\n\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n\n  -ms-word-break: break-all;\n  word-break: break-all;\n  word-break: break-word;\n\n  > p:first-child {\n    margin: 0;\n  }\n\n  ","\n"]);return Rn=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  max-width: 100%;\n  max-height: calc(var(--bindery-page-height) - 2.25in);\n  display: block;\n  flex: 1;\n  margin: 0 auto;\n  height: auto;\n  object-fit: contain;\n  object-position: top;\n"]);return Mn=function(){return n},n}function Hn(){var n=Object(u.a)([""]);return Hn=function(){return n},n}function An(){var n=Object(u.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n\n  > p:first-child {\n    margin: 0;\n  }\n"]);return An=function(){return n},n}function Un(){var n=Object(u.a)(["\n  display: none;\n"]);return Un=function(){return n},n}var Gn=s.b.h1(Un()),Vn=s.b.div(An()),Dn=Object(s.b)(Vn)(Hn()),Wn=s.b.img(Mn()),Kn=s.b.p(Rn(),(function(n){return n.hasAuthor&&"\n    > p:last-child {\n      margin-bottom: 0.45in;\n    }\n  "})),Xn=Object(s.b)(Kn)(Fn()),Jn=s.b.div(Bn()),qn=Object(s.b)(Jn)(In()),Yn=Object(s.b)(Jn)(Pn()),$n=function(n){var e=n.block,t=n.options,r="Text"===e.class&&e.content_html.length<70,i=""!==e.description_html,o=e.dimensions&&e.dimensions.width&&e.dimensions.width/e.dimensions.height,c=o&&o<.67,l=i&&(o&&o<1)?e.description_html.length>365:e.description_html.length>390;return a.a.createElement(Dn,{className:"page"},a.a.createElement(Gn,null,e.title),a.a.createElement(Ln,{title:e.title,id:e.id}),e.hasImage&&a.a.createElement(Wn,{src:e.imageUrl,alt:e.title}),r&&a.a.createElement(Xn,{dangerouslySetInnerHTML:{__html:e.content_html}}),!r&&!e.hasImage&&a.a.createElement(Kn,{dangerouslySetInnerHTML:{__html:e.content_html},hasAuthor:t.author}),(l||c)&&t.description&&e.description_html&&a.a.createElement(p,null),l&&e.description_html&&t.description&&a.a.createElement(Kn,{dangerouslySetInnerHTML:{__html:e.description_html}}),a.a.createElement(Yn,null,t.description&&i&&!l&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description_html}}),t.source&&e.source&&e.source.url&&""!==e.source.url&&a.a.createElement(qn,null,"Source: "," ",a.a.createElement("a",{href:e.source.url},e.source.title||e.source.url)),t.author&&a.a.createElement(Jn,null,"Added by ",e.connected_by_username)),a.a.createElement(p,null))};function Qn(){var n=Object(u.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(u.a)(["\n  font-weight: normal;\n  margin: 0;\n  font-size: 13pt;\n"]);return Zn=function(){return n},n}var ne=s.b.h6(Zn()),ee=s.b.div(Qn()),te=function(n){var e=n.title;return a.a.createElement(ee,{className:"page"},a.a.createElement(ne,null,e),a.a.createElement(p,null))},re=t(62),ae=t.n(re);function ie(){var n=Object(u.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n"]);return ie=function(){return n},n}function oe(){var n=Object(u.a)(["\n  font-weight: normal;\n  margin: 0;\n  font-size: 13pt;\n\n  > p:first-child {\n    margin: 0;\n  }\n"]);return oe=function(){return n},n}var ce=s.b.h6(oe()),le=s.b.div(ie()),ue=function(n){var e=n.description;return a.a.createElement(le,{className:"page about-page"},a.a.createElement(ce,null,a.a.createElement(ae.a,{source:e})))};function se(){var n=Object(u.a)(["\n  margin-right: 0.175in;\n  max-width: 3in;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]);return se=function(){return n},n}function fe(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  text-decoration: none;\n  color: black;\n"]);return fe=function(){return n},n}function me(){var n=Object(u.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n"]);return me=function(){return n},n}var he=s.b.div(me()),de=s.b.a(fe()),pe=s.b.span(se()),be=function(n){var e=n.blocks.filter((function(n){return!!n.title}));return a.a.createElement(he,{className:"page toc-page"},e.map((function(n){return a.a.createElement(de,{href:"#".concat(n.id.toString()),className:"toc-line"},a.a.createElement(pe,{dangerouslySetInnerHTML:{__html:n.title}}))})),a.a.createElement(p,null))};function ge(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  height: 6.275in;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return ge=function(){return n},n}function ve(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 13pt;\n"]);return ve=function(){return n},n}function Ee(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 13pt;\n  font-weight: normal;\n"]);return Ee=function(){return n},n}var we=s.b.h6(Ee()),je=s.b.div(ve()),Oe=s.b.div(ge()),ye=function(n){var e=n.title,t=n.author,r=n.channel;return a.a.createElement(Oe,{className:"page"},a.a.createElement(we,null,e),a.a.createElement("div",null,a.a.createElement(je,null,t),r.collaborators&&r.collaborators.map((function(n){return a.a.createElement(je,null,n.username)}))),a.a.createElement(p,null))};function xe(){var n=Object(u.a)([""]);return xe=function(){return n},n}function ke(){var n=Object(u.a)([""]);return ke=function(){return n},n}function Ce(){var n=Object(u.a)(["\n  position: absolute;\n  top: 1em;\n  right: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media print {\n    display: none;\n  }\n"]);return Ce=function(){return n},n}function Se(){var n=Object(u.a)(["\n  padding-left: 0.35in;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 6.275in;\n"]);return Se=function(){return n},n}function ze(){var n=Object(u.a)(["\n  width: ","in;\n  height: 6.275in;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0.25in;\n  position: relative;\n"]);return ze=function(){return n},n}function _e(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 8pt;\n  line-height: 13pt;\n"]);return _e=function(){return n},n}function Ne(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 13pt;\n"]);return Ne=function(){return n},n}function Te(){var n=Object(u.a)(["\n  margin: 0;\n  font-size: 13pt;\n  font-weight: normal;\n"]);return Te=function(){return n},n}function Le(){var n=Object(u.a)(["\n  width: 25px;\n  height: auto;\n"]);return Le=function(){return n},n}function Pe(){var n=Object(u.a)(["\n  transform-origin: 0 0;\n  transform: rotate(90deg) translateY(-","in)\n    translateX(0.35in);\n\n  width: var(--bindery-sheet-width);\n  height: ","in;\n  position: absolute;\n  left: -1px;\n  right: 0;\n  top: 0;\n\n  line-height: ","in;\n\n  display: flex;\n  align-items: center;\n\n  ","\n\n  ","\n"]);return Pe=function(){return n},n}function Ie(){var n=Object(u.a)(["\n  height: 100%;\n  width: ","in;\n  padding-top: 0.2in;\n\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n\n  // border-left: 1px solid gray;\n  // border-right: 1px solid gray;\n"]);return Ie=function(){return n},n}function Be(){var n=Object(u.a)(["\n  height: var(--bindery-page-height);\n  width: ","in;\n  background: white;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0.1in;\n  overflow: hidden;\n"]);return Be=function(){return n},n}function Fe(){var n=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: blue;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Fe=function(){return n},n}var Re=s.b.div(Fe()),Me=s.b.div(Be(),(function(n){return.003345*n.pages+8.75})),He=s.b.div(Ie(),(function(n){return.003345*n.pages})),Ae=s.b.div(Pe(),(function(n){return.003345*n.pages}),(function(n){return.003345*n.pages}),(function(n){return.003345*n.pages}),(function(n){return n.pages&&n.pages<90&&"\n    font-size: 10px;\n  "}),(function(n){return n.pages&&n.pages<30&&"\n    display: none;\n  "})),Ue=s.b.img.attrs({src:"/logo.png"})(Le()),Ge=s.b.h6(Te()),Ve=s.b.div(Ne()),De=s.b.div(_e()),We=s.b.div(ze(),4.375),Ke=s.b.div(Se()),Xe=s.b.div(Ce()),Je=s.b.button(ke()),qe=s.b.button(xe()),Ye=function(n){var e=n.channel,t=n.onClose,i=document.body.getElementsByClassName("\ud83d\udcd6-print-sheet").length,o=document.body.getElementsByClassName("\ud83d\udcd6-spread-wrapper").length,c=document.body.getElementsByClassName("\ud83d\udcd6-page3d").length,l=Math.max(o,c),u=i>0?i:2*l,s=(e.owner&&"Group"===e.owner.class?e.owner.name:e.user.username)||"",f=(e.owner&&"Group"===e.owner.class?e.owner.slug:e.user.slug)||"";return Object(r.useEffect)((function(){var n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),t="@page {\n      size: ".concat(8.75+.003345*u,"in 7.125in;\n    }");e.id="coverStyle",e.type="text/css",e.appendChild(document.createTextNode(t)),n.appendChild(e);var r=document.body.getElementsByClassName("\ud83d\udcd6-root")[0];return r&&r instanceof HTMLElement&&(r.style.display="none"),function(){n.removeChild(e),r&&r instanceof HTMLElement&&(r.style.display="block")}})),a.a.createElement(Re,null,a.a.createElement(Me,{pages:u},a.a.createElement(We,null,a.a.createElement(Ue,null),a.a.createElement(De,null,"https://www.are.na/".concat(f,"/").concat(e.slug))),a.a.createElement(He,{pages:u},a.a.createElement(Ae,{pages:u},e.title)),a.a.createElement(We,null,a.a.createElement(Ke,null,a.a.createElement(Ge,null,e.title),a.a.createElement("div",null,a.a.createElement(Ve,null,s),e.collaborators&&e.collaborators.map((function(n){return a.a.createElement(Ve,null,n.username)})))))),a.a.createElement(Xe,{className:"no-print"},a.a.createElement(Je,{className:"\ud83d\udcd6-control \ud83d\udcd6-btn \ud83d\udcd6-btn-main",onClick:function(){window.print()}},"Print Cover"),a.a.createElement(qe,{className:"\ud83d\udcd6-control \ud83d\udcd6-btn \ud83d\udcd6-btn-main",onClick:t},"Close")))};function $e(){var n=Object(u.a)(["\n  opacity: 0;\n"]);return $e=function(){return n},n}var Qe=s.b.div($e()),Ze={author:!0,description:!0,source:!0,toc:!0,defaultTo:"preview",bleed:"0.25in"},nt=function(n){var e=n.channel,t=n.contents,i=Object(r.useRef)(null),o=Object(r.useState)(!1),c=Object(E.a)(o,2),u=c[0],s=c[1],f=Object(r.useState)("interior"),m=Object(E.a)(f,2),h=m[0],d=m[1],p=Object(l.g)(),b=Object(v.a)(Object(v.a)({},Ze),rn.parse(p.search,{parseBooleans:!0})),g=Object(r.useCallback)((function(){d("cover")}),[d]);Object(r.useEffect)((function(){if(i.current&&!u){var n=en.a.RunningHeader({render:function(n){return Object(Z.renderToString)(a.a.createElement(kn,{page:n}))}}),e=nn.Controls.btnMain({onclick:g},"Cover"),t=b.defaultTo?{print:en.a.View.PRINT,preview:en.a.View.PREVIEW,flipbook:en.a.View.FLIPBOOK,undefined:""}[b.defaultTo]:en.a.View.PREVIEW;en.a.makeBook({content:i.current,view:t,controlOptions:{layout:!1,views:!0,marks:!1,extraControls:e},printSetup:{layout:en.a.Layout.PAGES,bleed:"0in"},pageSetup:{size:{width:"4.25in",height:"6.875in"},margin:{top:"0.3in",inner:"0.65in",outer:"0.35in",bottom:"0.35in"}},rules:[en.a.PageReference({selector:".toc-page a",replace:function(n,e){var t=document.createElement("div");return t.innerHTML="<div>".concat(e,"</div>"),n.appendChild(t),n}}),en.a.PageBreak({selector:".toc-start",position:"before",continue:"left"}),en.a.PageBreak({selector:".contents-start",position:"before",continue:"left"}),n,en.a.PageBreak({selector:"hr",position:"after"})]}),s(!0)}}),[i,g,b.defaultTo,u]),Object(r.useEffect)((function(){u&&(window.isReadyForPDF=!0)}),[u]);var w=t.filter((function(n){return!!n.title})).length>0,j=e.metadata&&""!==e.metadata.description,O=e.owner&&("User"===e.owner.class?e.owner.username:e.owner.name)||e.group&&e.group.name||e.user.username||"";return a.a.createElement(a.a.Fragment,null,"cover"===h&&a.a.createElement(Ye,{bookRef:i,channel:e,onClose:function(){d("book")}}),a.a.createElement(Qe,{className:"book-container",ref:i},a.a.createElement(ye,{title:e.title,author:O,channel:e}),j&&a.a.createElement(a.a.Fragment,null,a.a.createElement(te,{title:"About"}),a.a.createElement(ue,{description:e.metadata&&e.metadata.description})),w&&b.toc&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"toc-start"}),a.a.createElement(te,{title:"Table of Contents"}),a.a.createElement(be,{blocks:t})),a.a.createElement("div",{className:"contents-start"}),t.map((function(n){return a.a.createElement($n,{block:n,key:n.id,options:b})}))))},et=function(n){var e=n.match.params.slug,t=(n.location.search,Object(l.f)()),i=Object(l.g)(),o=Object(v.a)(Object(v.a)({},Ze),rn.parse(i.search,{parseBooleans:!0})),c=Object(r.useState)(null),u=Object(E.a)(c,2),s=u[0],f=u[1],m=Object(r.useState)(null),h=Object(E.a)(m,2),d=h[0],p=h[1],b=Object(r.useState)(null),g=Object(E.a)(b,2),w=g[0],j=g[1],O=new un;return Object(r.useEffect)((function(){s||O.getFullChannel(e,{onGetTotal:j,isShare:o.isShare,reverse:o.reverse}).then((function(n){return f(n)})).catch((function(n){switch(n.message){case"Unauthorized":return t.push("/error/unauthorized");case"Not Found":return t.push("/error/not_found");default:return t.push("/error/unknown")}}))}),[s,e,O,t,o.isShare,o.reverse]),Object(r.useEffect)((function(){s&&s.contents&&pn(s.contents,o.reverse).then((function(n){p(n)}))}),[s,o.reverse]),a.a.createElement(a.a.Fragment,null,(!s||!d)&&a.a.createElement(On,{slug:e,totalPages:w}),s&&d&&a.a.createElement(nt,{channel:s,contents:d}),s&&d&&a.a.createElement(S,null,!tn.isChrome&&a.a.createElement(k,{id:"non-chrome"},a.a.createElement("strong",null,"Note:")," if you are planning to print this book with Lulu, please use Chrome.")))};function tt(){var n=Object(u.a)(['\n  font-family: "Courier";\n  font-size: 36px;\n  padding: 1em;\n  color: black;\n']);return tt=function(){return n},n}function rt(){var n=Object(u.a)(["\n  color: rgb(182, 2, 2);\n  font-size: 16pt;\n  margin-bottom: 1em;\n"]);return rt=function(){return n},n}function at(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 2em;\n  align-items: center;\n  justify-content: center;\n"]);return at=function(){return n},n}function it(){var n=Object(u.a)(["\n  font-weight: normal;\n  margin: 0;\n  font-size: 16pt;\n  max-width: 30em;\n  text-align: center;\n"]);return it=function(){return n},n}var ot=s.b.h6(it()),ct=s.b.div(at()),lt=s.b.span(rt()),ut=s.b.a(tt()),st={not_found:{title:"Not Found",message:"Channel not found, please try again"},unauthorized:{title:"Unauthorized",message:"Looks like this might be a private channel. Try again with a public channel"},not_a_channel:{title:"?",message:"This doesn't look like a channel, please try again and enter a URL from an Are.na channel."},unknown:{title:"?",message:"Unknown error. Please try again"}},ft=function(n){var e=n.match.params.error;return a.a.createElement(ct,{className:"page"},a.a.createElement(lt,null,st[e].title),a.a.createElement(ot,null,st[e].message),a.a.createElement(ut,{href:"/"},"\u02ff"))};function mt(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return mt=function(){return n},n}function ht(){var n=Object(u.a)(["\n  position: relative;\n  padding-bottom: 62.5%;\n  height: 0;\n  width: 100%;\n"]);return ht=function(){return n},n}function dt(){var n=Object(u.a)(["\n  max-width: 865px;\n  margin: auto;\n  position: relative;\n  width: 50vw;\n"]);return dt=function(){return n},n}function pt(){var n=Object(u.a)(['\n  font-family: "Courier";\n  font-size: 36px;\n  padding: 1em;\n  color: black;\n']);return pt=function(){return n},n}function bt(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 2em;\n  align-items: center;\n  justify-content: center;\n"]);return bt=function(){return n},n}var gt=s.b.div(bt()),vt=s.b.a(pt()),Et=s.b.div(dt()),wt=s.b.div(ht()),jt=s.b.iframe(mt()),Ot=function(){return a.a.createElement(gt,{className:"page"},a.a.createElement(Et,null,a.a.createElement(wt,null,a.a.createElement(jt,{src:"https://www.loom.com/embed/e8925c58aeae4c69b0034a555f2a6648",frameBorder:0,allowFullScreen:!0,title:"Demo video"}))),a.a.createElement(vt,{href:"/"},"\u02ff"))};var yt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,null),a.a.createElement(c.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/",component:Q}),a.a.createElement(l.a,{exact:!0,path:"/book/:slug",component:et}),a.a.createElement(l.a,{exact:!0,path:"/error/:error",component:ft}),a.a.createElement(l.a,{exact:!0,path:"/demo",component:Ot}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},63:function(n,e,t){n.exports=t(191)}},[[63,1,2]]]);
//# sourceMappingURL=main.655135d0.chunk.js.map